<div class="flex flex-col md:flex-col lg:flex-row p-10 py-2 pt-6">
  <!-- Filtros -->
  <div class="w-full justify-start lg:w-1/4">
    <h6>Filtros</h6>
    <div class="flex flex-col px-6 md:px-0 w-full">
      <!-- Categorías -->
      <div class="w-full p-2 mb-4">
        <form class="w-full">
          <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Categorias</label>
          <select name="categoryId"
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            [(ngModel)]="categoryId" (change)="getProducts()">
            <option *ngFor="let item of category" [value]="item._id">{{ item.name }}</option>
          </select>
        </form>
      </div>

      <!-- Marcas -->
      <div class="w-full p-2 mb-4">
        <form class="w-full">
          <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Marcas</label>
          <select
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            name="brandId" [(ngModel)]="brandId" (change)="getProducts()">
            <option *ngFor="let item of brands" [value]="item._id">{{ item.name }}</option>
          </select>
        </form>
      </div>

      <!-- Ordenar por -->
      <div class="w-full p-2 mb-4">
        <form class="w-full">
          <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Ordenar por</label>
          <select
            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
            (valueChange)="orderChange($event)">
            <option [value]="1">Menor precio</option>
            <option [value]="-1">Mayor precio</option>
          </select>
        </form>
      </div>
    </div>
  </div>

  <!-- Productos -->
  <div class="w-full lg:w-3/4">
    <div class="flex justify-between">
      <h6>Productos</h6>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      @for (product of products; track $index) {
      <div class="p-4">
        <app-product-card [product]="product"></app-product-card>
      </div>
      }@empty{
      <h6>No hay productos encontrados</h6>
      }
    </div>
    <!-- Botones de paginación -->
    <div class="flex gap-4 mt-4">
      <button mat-raised-button color="primary" [disabled]="page == 1" (click)="pageChange(page - 1)">
        Anterior
      </button>
      <button mat-raised-button color="primary" (click)="pageChange(page + 1)" [disabled]="!isNext">
        Siguiente
      </button>
    </div>
  </div>
</div>